---
title: О WSL 2
description: О WSL 2 новая архитектура подсистемы Windows для Linux
keywords: BashOnWindows, bash, wsl, wsl2, windows, подсистема windows для linux, windowssubsystem, ubuntu, debian, suse, windows 10, установка
author: mscraigloewen
ms.author: mscraigloewen
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.openlocfilehash: b3b0b1ce0f55fed0b4cf223ccc18a509dcf81788
ms.sourcegitcommit: bb88269eb37405192625fa81ff91162393fb491f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/12/2019
ms.locfileid: "67038134"
---
<span data-ttu-id="a6023-104">WSL 2 — это новая версия архитектуры, обеспечивающий работу подсистемы Windows для Linux, двоичные файлы ELF64 Linux под управлением Windows.</span><span class="sxs-lookup"><span data-stu-id="a6023-104">WSL 2 is a new version of the architecture that powers the Windows Subsystem for Linux to run ELF64 Linux binaries on Windows.</span></span> <span data-ttu-id="a6023-105">Его основные цели, чтобы увеличить производительность файловой системы, а также добавление совместимости вызов полной системы.</span><span class="sxs-lookup"><span data-stu-id="a6023-105">Its primary goals are to increase file system performance, as well as adding full system call compatibility.</span></span> <span data-ttu-id="a6023-106">Эта новая архитектура изменяется, как взаимодействуют эти двоичные файлы Linux с Windows и оборудования, но по-прежнему предоставляет пользователям те же возможности как WSL 1 (широко распространенной текущей версии).</span><span class="sxs-lookup"><span data-stu-id="a6023-106">This new architecture changes how these Linux binaries interact with Windows and your computer’s hardware, but still provides the same user experience as in WSL 1 (the current widely available version).</span></span> <span data-ttu-id="a6023-107">Отдельные Linux на дистрибутивах может выполняться как дистрибутив WSL 1, или как WSL 2 дистрибутив, можно обновить или понизить в любое время и запуском WSL 1 и WSL 2 дистрибутивов рядом друг с другом.</span><span class="sxs-lookup"><span data-stu-id="a6023-107">Individual Linux distros can be run either as a WSL 1 distro, or as a WSL 2 distro, can be upgraded or downgraded at any time, and you can run WSL 1 and WSL 2 distros side by side.</span></span> <span data-ttu-id="a6023-108">WSL 2 использует совершенно новой архитектуры, использующий реальные ядро Linux.</span><span class="sxs-lookup"><span data-stu-id="a6023-108">WSL 2 uses an entirely new architecture that uses a real Linux kernel.</span></span>

## <a name="linux-kernel-in-wsl-2"></a><span data-ttu-id="a6023-109">Ядра Linux в WSL 2</span><span class="sxs-lookup"><span data-stu-id="a6023-109">Linux kernel in WSL 2</span></span>

<span data-ttu-id="a6023-110">В ядре Linux в WSL 2 построена на месте из последней стабильной ветви на основе источника, найти по адресу kernel.org. Это ядро специально настроена для WSL 2.</span><span class="sxs-lookup"><span data-stu-id="a6023-110">The Linux kernel in WSL 2 is built in house from the latest stable branch, based on the source available at kernel.org. This kernel has been specially tuned for WSL 2.</span></span> <span data-ttu-id="a6023-111">Он был оптимизирован для размер и производительность для удобства удивительные Linux на Windows и будут обслуживаться с помощью центра обновлений Windows, это означает, что вы получите последние исправления безопасности и улучшения ядра без необходимости управлять самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="a6023-111">It has been optimized for size and performance to give an amazing Linux experience on Windows and will be serviced through Windows updates, which means you will get the latest security fixes and kernel improvements without needing to manage it yourself.</span></span>

<span data-ttu-id="a6023-112">Кроме того, это ядро будет открытым исходным кодом.</span><span class="sxs-lookup"><span data-stu-id="a6023-112">Additionally this kernel will be open source.</span></span> <span data-ttu-id="a6023-113">Вы найдете полный исходный код для ядра Linux [здесь](https://thirdpartysource.microsoft.com/download/Windows%20Subsystem%20for%20Linux%20v2/May%202019/WSLv2-Linux-Kernel-master.zip).</span><span class="sxs-lookup"><span data-stu-id="a6023-113">You can find the full source code for the Linux kernel [here](https://thirdpartysource.microsoft.com/download/Windows%20Subsystem%20for%20Linux%20v2/May%202019/WSLv2-Linux-Kernel-master.zip).</span></span> <span data-ttu-id="a6023-114">Если вы хотите узнать больше о это ядро, вы можете проверить [этой записи блога](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/) написанную команды, создавшей его.</span><span class="sxs-lookup"><span data-stu-id="a6023-114">If you’d like to read more about this kernel you can check out [this blog post](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/) written by the team that built it.</span></span>

## <a name="brief-overview-of-the-wsl-2-architecture"></a><span data-ttu-id="a6023-115">Краткий обзор архитектуры WSL 2</span><span class="sxs-lookup"><span data-stu-id="a6023-115">Brief overview of the WSL 2 architecture</span></span>

<span data-ttu-id="a6023-116">WSL 2 использует самое лучшее в технологиях виртуализации и для выполнения своего ядра Linux внутри упрощенных служебной виртуальной машине (VM).</span><span class="sxs-lookup"><span data-stu-id="a6023-116">WSL 2 uses the latest and greatest in virtualization technology to run its Linux kernel inside of a lightweight utility virtual machine (VM).</span></span> <span data-ttu-id="a6023-117">Тем не менее WSL 2 могут быть более традиционные возможности виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="a6023-117">However, WSL 2 will NOT be a traditional VM experience.</span></span> <span data-ttu-id="a6023-118">Более традиционные возможности виртуальной Машины может выполняться медленно загружается, изолируется, потребляет много ресурсов и требует времени, чтобы управлять им.</span><span class="sxs-lookup"><span data-stu-id="a6023-118">A traditional VM experience can be slow to boot up, is isolated, consumes lots of resources, and requires your time to manage it.</span></span> <span data-ttu-id="a6023-119">WSL 2 не поддерживает эти атрибуты.</span><span class="sxs-lookup"><span data-stu-id="a6023-119">WSL 2 does not have these attributes.</span></span> <span data-ttu-id="a6023-120">Она по-прежнему даст преимущества уникальной WSL 1: Высокий уровень интеграции между Windows и Linux, чрезвычайно ускорить время загрузки, мало ресурсов и что важнее всего, потребуется никакая Настройка виртуальной Машины или управления.</span><span class="sxs-lookup"><span data-stu-id="a6023-120">It will still give the remarkable benefits of WSL 1: High levels of integration between Windows and Linux, extremely fast boot times, small resource footprint, and best of all will require no VM configuration or management.</span></span> <span data-ttu-id="a6023-121">Хотя WSL 2 использовать виртуальную Машину, он будет управляемых и выполняется в фоновом, оставляя пользователям те же возможности как WSL 1.</span><span class="sxs-lookup"><span data-stu-id="a6023-121">While WSL 2 does use a VM, it will be managed and run behind the scenes leaving you with the same user experience as WSL 1.</span></span>

## <a name="increased-file-io-performance"></a><span data-ttu-id="a6023-122">Файл повышения производительности операций ввода-ВЫВОДА</span><span class="sxs-lookup"><span data-stu-id="a6023-122">Increased file IO performance</span></span>

<span data-ttu-id="a6023-123">С большим объемом операций с файлами, такие как клона git, npm install, apt обновления, apt обновления и многое другое все будут значительно быстрее.</span><span class="sxs-lookup"><span data-stu-id="a6023-123">File intensive operations like git clone, npm install, apt update, apt upgrade, and more will all be noticeably faster.</span></span> <span data-ttu-id="a6023-124">Фактическая скорость увеличения зависят от на приложения, которое вы работает и как он взаимодействует с файловой системой.</span><span class="sxs-lookup"><span data-stu-id="a6023-124">The actual speed increase will depend on which app you’re running and how it is interacting with the file system.</span></span> <span data-ttu-id="a6023-125">Начальной версии 2 WSL выполнение до 20 раз быстрее по сравнению с WSL 1 при распаковке ZIP-архива tar и вокруг 2 – 5 раз быстрее при использовании клона git, установка npm и cmake над различными проектами.</span><span class="sxs-lookup"><span data-stu-id="a6023-125">Initial versions of WSL 2 run up to 20x faster compared to WSL 1 when unpacking a zipped tarball, and around 2-5x faster when using git clone, npm install and cmake on various projects.</span></span>

## <a name="full-system-call-compatibility"></a><span data-ttu-id="a6023-126">Вызов совместимости полной системы</span><span class="sxs-lookup"><span data-stu-id="a6023-126">Full System Call Compatibility</span></span>

<span data-ttu-id="a6023-127">Двоичные файлы Linux использовать системные вызовы для выполнения многих функций, таких как доступ к файлам, запрашивающего памяти, Создание процессов и многое другое.</span><span class="sxs-lookup"><span data-stu-id="a6023-127">Linux binaries use system calls to perform many functions such as accessing files, requesting memory, creating processes, and more.</span></span> <span data-ttu-id="a6023-128">В то время как WSL 1 используется слой преобразования, который был создан группой WSL, WSL 2 включает собственный ядра Linux с полной системы вызов совместимости.</span><span class="sxs-lookup"><span data-stu-id="a6023-128">Whereas WSL 1 used a translation layer that was built by the WSL team, WSL 2 includes its own Linux kernel with full system call compatibility.</span></span> <span data-ttu-id="a6023-129">Это приводит к совершенно новый набор приложений, которые могут выполняться внутри WSL, такие как Docker и многое другое.</span><span class="sxs-lookup"><span data-stu-id="a6023-129">This introduces a whole new set of apps that you can run inside of WSL, such as Docker and more.</span></span> <span data-ttu-id="a6023-130">Кроме того никаких обновлений для ядра Linux может быть немедленно готов для добавления компьютера, не дожидаясь team WSL для реализации изменений, а затем их добавить.</span><span class="sxs-lookup"><span data-stu-id="a6023-130">Additionally, any updates to the Linux kernel can be immediately ready to be added to your computer, rather than waiting for the WSL team to implement the changes and then have them added.</span></span>