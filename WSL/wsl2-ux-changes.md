---
title: Изменения пользовательского интерфейса между WSL 1 и 2 WSL
description: Изменения в работе пользователей между WSL 1 и 2 WSL
keywords: BashOnWindows, bash, wsl, wsl2, windows, подсистема windows для linux, windowssubsystem, ubuntu, debian, suse, windows 10
author: mscraigloewen
ms.author: mscraigloewen
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.openlocfilehash: 0660f9f726811008685de9f1ff457e7515add67a
ms.sourcegitcommit: bb88269eb37405192625fa81ff91162393fb491f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/12/2019
ms.locfileid: "67038104"
---
# <a name="user-experience-changes-between-wsl-1-and-wsl-2"></a><span data-ttu-id="a167c-104">Изменения в работе пользователей между WSL 1 и 2 WSL</span><span class="sxs-lookup"><span data-stu-id="a167c-104">User Experience Changes Between WSL 1 and WSL 2</span></span>

<span data-ttu-id="a167c-105">Эта страница идет через интерфейс пользователя различия между WSL 1 и WSL 2 предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="a167c-105">This page goes over the user experience differences between WSL 1 and the WSL 2 preview.</span></span> <span data-ttu-id="a167c-106">Ключевых изменений, которые следует учитывать являются:</span><span class="sxs-lookup"><span data-stu-id="a167c-106">The key changes to be aware of are:</span></span>

- <span data-ttu-id="a167c-107">Поместите файлы, использующие приложения Linux в Linux корневой файловой системы для ускорения производительности файла</span><span class="sxs-lookup"><span data-stu-id="a167c-107">Place files that your Linux apps will access in your Linux root file system for faster file performance speed</span></span>
- <span data-ttu-id="a167c-108">В предварительной версии WSL 2 начальной построения необходимо будет получить доступ к сети приложений с помощью IP-адресом и не используется localhost</span><span class="sxs-lookup"><span data-stu-id="a167c-108">In initial builds of the WSL 2 preview you will need to access network applications using an IP address and not using localhost</span></span>

<span data-ttu-id="a167c-109">А ниже приведен полный список других изменений, которые вы можете заметить:</span><span class="sxs-lookup"><span data-stu-id="a167c-109">And below is the full list of other changes that you may notice:</span></span>

- <span data-ttu-id="a167c-110">WSL 2 использует виртуальный жесткий ДИСК для хранения файлов и при достижении максимального размера может потребоваться развернуть его</span><span class="sxs-lookup"><span data-stu-id="a167c-110">WSL 2 uses a VHD to store your files and if you reach its max size you may need to expand it</span></span>
- <span data-ttu-id="a167c-111">При запуске, WSL 2 теперь будут использовать небольшую часть памяти</span><span class="sxs-lookup"><span data-stu-id="a167c-111">When starting, WSL 2 will now use a small proportion of memory</span></span>
- <span data-ttu-id="a167c-112">Кросс-ОС скорость доступа файлов будет работать медленнее в первоначальных предварительных сборок</span><span class="sxs-lookup"><span data-stu-id="a167c-112">Cross OS file access speed will be slower in initial preview builds</span></span>

## <a name="place-your-linux-files-in-your-linux-root-file-system"></a><span data-ttu-id="a167c-113">Разместите файлы Linux в корневой файловой системе Linux</span><span class="sxs-lookup"><span data-stu-id="a167c-113">Place your Linux files in your Linux root file system</span></span>
<span data-ttu-id="a167c-114">Убедитесь, что для размещения файлов, которые можно будет осуществлять доступ к часто с Linux приложениям внутри Linux корневой файловой системы, чтобы воспользоваться преимуществами производительности, файл.</span><span class="sxs-lookup"><span data-stu-id="a167c-114">Make sure to put the files that you will be accessing frequently with Linux applications inside of your Linux root file system to enjoy the file performance benefits.</span></span> <span data-ttu-id="a167c-115">Эти файлы должны находиться в корневой файловой системы Linux, чтобы ускорить доступ к файловой системе.</span><span class="sxs-lookup"><span data-stu-id="a167c-115">These files have to be inside of the Linux root file system to have faster file system access.</span></span> <span data-ttu-id="a167c-116">Можно также просто для приложений Windows для доступа к корневой файловой системы Linux (например, проводник!</span><span class="sxs-lookup"><span data-stu-id="a167c-116">We have also made it possible for Windows apps to access the Linux root file system (like File Explorer!</span></span> <span data-ttu-id="a167c-117">Попробуйте: `explorer.exe /` в оболочке bash и наблюдать, что происходит) что сделает этот переход значительно проще.</span><span class="sxs-lookup"><span data-stu-id="a167c-117">Try running: `explorer.exe /` in your bash shell and see what happens) which will make this transition significantly easier.</span></span> 

## <a name="accessing-network-applications"></a><span data-ttu-id="a167c-118">Доступ к сети приложений</span><span class="sxs-lookup"><span data-stu-id="a167c-118">Accessing network applications</span></span>
<span data-ttu-id="a167c-119">В первоначальной построения WSL 2 предварительной версии необходимо будет получить доступ к любой сервер Linux из Windows, с помощью IP-адрес дистрибутив Linux, а также любой сервер Windows из Linux с помощью IP-адрес хост-компьютере.</span><span class="sxs-lookup"><span data-stu-id="a167c-119">In the initial builds of the WSL 2 preview, you will need to access any Linux server from Windows using the IP address of your Linux distro, and any Windows server from Linux using the IP address of your host machine.</span></span> <span data-ttu-id="a167c-120">Это то, что временные и очень высокого уровня, в нашем списке приоритет для исправления.</span><span class="sxs-lookup"><span data-stu-id="a167c-120">This is something that is temporary, and very high on our priority list to fix.</span></span>

### <a name="accessing-linux-applications-from-windows"></a><span data-ttu-id="a167c-121">Доступа к приложениям Linux из Windows</span><span class="sxs-lookup"><span data-stu-id="a167c-121">Accessing Linux applications from Windows</span></span>
<span data-ttu-id="a167c-122">Если имеется сервер в дистрибутив WSL необходимо найти IP-адрес вашего дистрибутива на базе виртуальной машины и подключиться к нему с этого IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="a167c-122">If you have a server in a WSL distro, you'll need to find the IP address of the virtual machine powering your distro and connect to it with that IP address.</span></span> <span data-ttu-id="a167c-123">Можно сделать, выполнив следующие действия:</span><span class="sxs-lookup"><span data-stu-id="a167c-123">You can do that by following these steps:</span></span>

- <span data-ttu-id="a167c-124">Получить IP-адрес вашего дистрибутива, выполнив команду `ip addr` внутри вашего дистрибутива WSL и поиск в списке `inet` значение `eth0` интерфейс.</span><span class="sxs-lookup"><span data-stu-id="a167c-124">Obtain the IP address of your distro by running the command `ip addr` inside of your WSL distro and finding it under the `inet` value of the `eth0` interface.</span></span>
   - <span data-ttu-id="a167c-125">Его можно найти более легко отфильтровав выходные данные команды, с помощью grep следующим образом: `ip addr | grep eth0`.</span><span class="sxs-lookup"><span data-stu-id="a167c-125">You can find this more easily by filtering the output of the command using grep like so: `ip addr | grep eth0`.</span></span>
- <span data-ttu-id="a167c-126">Подключитесь к серверу на базе Linux с помощью IP-адрес определенный выше.</span><span class="sxs-lookup"><span data-stu-id="a167c-126">Connect to your Linux server using the IP you found above.</span></span>

<span data-ttu-id="a167c-127">На рисунке ниже показан пример этого, подключившись к серверу nodeJS, с помощью браузера Edge.</span><span class="sxs-lookup"><span data-stu-id="a167c-127">The picture below shows an example of this by connecting to a nodeJS server using the Edge browser.</span></span>

![Доступ к сети приложений Linux из Windows](media/wsl2-network-w2l.jpg)

### <a name="accessing-windows-applications-from-linux"></a><span data-ttu-id="a167c-129">Доступ к приложениям Windows с Linux</span><span class="sxs-lookup"><span data-stu-id="a167c-129">Accessing Windows applications from Linux</span></span>
<span data-ttu-id="a167c-130">Доступ к приложению сети Windows необходимо использовать IP-адрес хост-компьютере.</span><span class="sxs-lookup"><span data-stu-id="a167c-130">To access a Windows network application you'll need to use the IP address of your host machine.</span></span> <span data-ttu-id="a167c-131">Это можно сделать с помощью этих действий:</span><span class="sxs-lookup"><span data-stu-id="a167c-131">You can do so with these steps:</span></span>

- <span data-ttu-id="a167c-132">Получить IP-адрес хост-компьютере, выполнив команду `cat /etc/resolv.conf` и копирование IP-адрес после термин `nameserver`.</span><span class="sxs-lookup"><span data-stu-id="a167c-132">Obtain the IP address of your host machine by running the command `cat /etc/resolv.conf` and copying the IP address following the term `nameserver`.</span></span> 
- <span data-ttu-id="a167c-133">Подключитесь к любому серверу Windows, с помощью скопированного IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="a167c-133">Connect to any Windows server using the copied IP address.</span></span>

<span data-ttu-id="a167c-134">На рисунке ниже показан пример этого, подключившись к серверу python, в котором в Windows с помощью curl.</span><span class="sxs-lookup"><span data-stu-id="a167c-134">The picture below shows an example of this by connecting to a python server running in Windows via curl.</span></span> 

![Доступ к сети приложений Linux из Windows](media/wsl2-network-l2w.png)

## <a name="understanding-wsl-2-uses-a-vhd-and-what-to-do-if-you-reach-its-max-size"></a><span data-ttu-id="a167c-136">Основные сведения о WSL 2 использует виртуальный жесткий ДИСК и что делать, если вы достигли максимального размера</span><span class="sxs-lookup"><span data-stu-id="a167c-136">Understanding WSL 2 uses a VHD, and what to do if you reach its max size</span></span>
<span data-ttu-id="a167c-137">WSL 2 хранит все файлы Linux внутри виртуального жесткого диска, который использует файловой системы ext4.</span><span class="sxs-lookup"><span data-stu-id="a167c-137">WSL 2 stores all your Linux files inside of a VHD that uses the ext4 file system.</span></span> <span data-ttu-id="a167c-138">Этот виртуальный жесткий ДИСК автоматически изменяет свои размеры, необходимое для хранения.</span><span class="sxs-lookup"><span data-stu-id="a167c-138">This VHD automatically resizes to meet your storage needs.</span></span> <span data-ttu-id="a167c-139">Этот виртуальный жесткий ДИСК также имеет max первоначальным размером 256 ГБ.</span><span class="sxs-lookup"><span data-stu-id="a167c-139">This VHD also has an initial max size of 256GB.</span></span> <span data-ttu-id="a167c-140">Если Ваш дистрибутив растет и размер превышает 256 ГБ, вы увидите ошибки, о том, что вы запустили недостаточно места на диске.</span><span class="sxs-lookup"><span data-stu-id="a167c-140">If your distro grows in size to be greater than 256GB you will see errors stating that you've run out of disk space.</span></span> <span data-ttu-id="a167c-141">Вы можете исправить их путем увеличения размера виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="a167c-141">You can fix these by expanding the VHD size.</span></span> <span data-ttu-id="a167c-142">Ниже приведены инструкции о том, как сделать это.</span><span class="sxs-lookup"><span data-stu-id="a167c-142">Instructions on how to do so are below:</span></span>

1. <span data-ttu-id="a167c-143">Завершить все экземпляры WSL, с помощью `wsl --shutdown` команды</span><span class="sxs-lookup"><span data-stu-id="a167c-143">Terminate all WSL instances using the `wsl --shutdown` command</span></span>
2. <span data-ttu-id="a167c-144">Изменение размера виртуального жесткого диска 2 WSL, выполнив следующие команды</span><span class="sxs-lookup"><span data-stu-id="a167c-144">Resize your WSL 2 VHD by completing the following commands</span></span>
   - <span data-ttu-id="a167c-145">Откройте окно командной строки с правами администратора и выполните следующие команды:</span><span class="sxs-lookup"><span data-stu-id="a167c-145">Open a command prompt Window with admin privileges and run the following commands:</span></span>
      - `Select vdisk file="<pathToVHD>"`
      - `expand vdisk maximum="<sizeInMegaBytes>"`
3. <span data-ttu-id="a167c-146">Запуск вашего дистрибутива WSL</span><span class="sxs-lookup"><span data-stu-id="a167c-146">Launch your WSL distro</span></span>
4. <span data-ttu-id="a167c-147">Сделать WSL виду, что его можно увеличить размер его файловой системе</span><span class="sxs-lookup"><span data-stu-id="a167c-147">Make WSL aware that it can expand its file system's size</span></span>
   - <span data-ttu-id="a167c-148">Выполните следующие команды в вашего дистрибутива WSL:</span><span class="sxs-lookup"><span data-stu-id="a167c-148">Run these commands in your WSL distro:</span></span>
      - `sudo mount -t devtmpfs none /dev`
      - `mount | grep ext4`
         - <span data-ttu-id="a167c-149">Скопируйте имя эту запись, которая будет выглядеть так: / dev/sdXX (с крестиком представляет любой другой символ)</span><span class="sxs-lookup"><span data-stu-id="a167c-149">Copy the name of this entry, which will look like: /dev/sdXX (with the X representing any other character)</span></span>
      - `sudo resize2fs /dev/sdXX`
         - <span data-ttu-id="a167c-150">Убедитесь в том, чтобы использовать значение, скопированный ранее, и необходимо использовать: `apt install resize2fs`.</span><span class="sxs-lookup"><span data-stu-id="a167c-150">Make sure to use the value you copied earlier, and you may need to use: `apt install resize2fs`.</span></span>

## <a name="wsl-2-will-use-some-memory-on-startup"></a><span data-ttu-id="a167c-151">WSL 2 будет использовать определенный объем памяти при запуске</span><span class="sxs-lookup"><span data-stu-id="a167c-151">WSL 2 will use some memory on startup</span></span>
<span data-ttu-id="a167c-152">WSL 2 использует упрощенный программа виртуальной Машины на реальных ядра Linux для обеспечения производительности системы отличный файл полной системы вызовов и совместимости при по-прежнему выполняется так же, как свет, быстрых и интегрированной и отвечает на запросы как WSL 1.</span><span class="sxs-lookup"><span data-stu-id="a167c-152">WSL 2 uses a lightweight utility VM on a real Linux kernel to provide great file system performance and full system call compatibility while still being just as light, fast, integrated and responsive as WSL 1.</span></span> <span data-ttu-id="a167c-153">Эта служебная программа виртуальной Машины имеет небольшой объем памяти и выделит виртуальный адрес резервной памяти при запуске.</span><span class="sxs-lookup"><span data-stu-id="a167c-153">This utility VM has a small memory footprint and will allocate Virtual Address backed memory on startup.</span></span> <span data-ttu-id="a167c-154">Он был настроен на запуск с небольшую часть вашей общий объем памяти.</span><span class="sxs-lookup"><span data-stu-id="a167c-154">It is configured to start with a small proportion of your total memory.</span></span>

## <a name="cross-os-file-speed-will-be-slower-in-initial-preview-builds"></a><span data-ttu-id="a167c-155">Кросс-ОС скорость файлов будет работать медленнее в первоначальных предварительных сборок</span><span class="sxs-lookup"><span data-stu-id="a167c-155">Cross OS file speed will be slower in initial preview builds</span></span>
<span data-ttu-id="a167c-156">Обратите внимание, файл медленной по сравнению с WSL 1 к файлам Windows из приложения Linux или при доступе к файлам Linux из приложения Windows.</span><span class="sxs-lookup"><span data-stu-id="a167c-156">You will notice slower file speeds compared to WSL 1 when accessing Windows files from a Linux application, or accessing Linux files from a Windows application.</span></span> <span data-ttu-id="a167c-157">Это является результатом архитектурных изменений в WSL 2 и то, что команда WSL активно является исследование на том, как мы могли улучшить это взаимодействие.</span><span class="sxs-lookup"><span data-stu-id="a167c-157">This is a result of the architectural changes in WSL 2, and is something that the WSL team is actively investigating on how we can improve this experience.</span></span>