---
title: Изменения пользовательского интерфейса между WSL 1 и 2 WSL
description: Изменения в работе пользователей между WSL 1 и 2 WSL
keywords: BashOnWindows, bash, wsl, wsl2, windows, подсистема windows для linux, windowssubsystem, ubuntu, debian, suse, windows 10
author: mscraigloewen
ms.author: mscraigloewen
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.openlocfilehash: 0660f9f726811008685de9f1ff457e7515add67a
ms.sourcegitcommit: bb88269eb37405192625fa81ff91162393fb491f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/12/2019
ms.locfileid: "67038104"
---
# <a name="user-experience-changes-between-wsl-1-and-wsl-2"></a>Изменения в работе пользователей между WSL 1 и 2 WSL

Эта страница идет через интерфейс пользователя различия между WSL 1 и WSL 2 предварительной версии. Ключевых изменений, которые следует учитывать являются:

- Поместите файлы, использующие приложения Linux в Linux корневой файловой системы для ускорения производительности файла
- В предварительной версии WSL 2 начальной построения необходимо будет получить доступ к сети приложений с помощью IP-адресом и не используется localhost

А ниже приведен полный список других изменений, которые вы можете заметить:

- WSL 2 использует виртуальный жесткий ДИСК для хранения файлов и при достижении максимального размера может потребоваться развернуть его
- При запуске, WSL 2 теперь будут использовать небольшую часть памяти
- Кросс-ОС скорость доступа файлов будет работать медленнее в первоначальных предварительных сборок

## <a name="place-your-linux-files-in-your-linux-root-file-system"></a>Разместите файлы Linux в корневой файловой системе Linux
Убедитесь, что для размещения файлов, которые можно будет осуществлять доступ к часто с Linux приложениям внутри Linux корневой файловой системы, чтобы воспользоваться преимуществами производительности, файл. Эти файлы должны находиться в корневой файловой системы Linux, чтобы ускорить доступ к файловой системе. Можно также просто для приложений Windows для доступа к корневой файловой системы Linux (например, проводник! Попробуйте: `explorer.exe /` в оболочке bash и наблюдать, что происходит) что сделает этот переход значительно проще. 

## <a name="accessing-network-applications"></a>Доступ к сети приложений
В первоначальной построения WSL 2 предварительной версии необходимо будет получить доступ к любой сервер Linux из Windows, с помощью IP-адрес дистрибутив Linux, а также любой сервер Windows из Linux с помощью IP-адрес хост-компьютере. Это то, что временные и очень высокого уровня, в нашем списке приоритет для исправления.

### <a name="accessing-linux-applications-from-windows"></a>Доступа к приложениям Linux из Windows
Если имеется сервер в дистрибутив WSL необходимо найти IP-адрес вашего дистрибутива на базе виртуальной машины и подключиться к нему с этого IP-адреса. Можно сделать, выполнив следующие действия:

- Получить IP-адрес вашего дистрибутива, выполнив команду `ip addr` внутри вашего дистрибутива WSL и поиск в списке `inet` значение `eth0` интерфейс.
   - Его можно найти более легко отфильтровав выходные данные команды, с помощью grep следующим образом: `ip addr | grep eth0`.
- Подключитесь к серверу на базе Linux с помощью IP-адрес определенный выше.

На рисунке ниже показан пример этого, подключившись к серверу nodeJS, с помощью браузера Edge.

![Доступ к сети приложений Linux из Windows](media/wsl2-network-w2l.jpg)

### <a name="accessing-windows-applications-from-linux"></a>Доступ к приложениям Windows с Linux
Доступ к приложению сети Windows необходимо использовать IP-адрес хост-компьютере. Это можно сделать с помощью этих действий:

- Получить IP-адрес хост-компьютере, выполнив команду `cat /etc/resolv.conf` и копирование IP-адрес после термин `nameserver`. 
- Подключитесь к любому серверу Windows, с помощью скопированного IP-адрес.

На рисунке ниже показан пример этого, подключившись к серверу python, в котором в Windows с помощью curl. 

![Доступ к сети приложений Linux из Windows](media/wsl2-network-l2w.png)

## <a name="understanding-wsl-2-uses-a-vhd-and-what-to-do-if-you-reach-its-max-size"></a>Основные сведения о WSL 2 использует виртуальный жесткий ДИСК и что делать, если вы достигли максимального размера
WSL 2 хранит все файлы Linux внутри виртуального жесткого диска, который использует файловой системы ext4. Этот виртуальный жесткий ДИСК автоматически изменяет свои размеры, необходимое для хранения. Этот виртуальный жесткий ДИСК также имеет max первоначальным размером 256 ГБ. Если Ваш дистрибутив растет и размер превышает 256 ГБ, вы увидите ошибки, о том, что вы запустили недостаточно места на диске. Вы можете исправить их путем увеличения размера виртуального жесткого диска. Ниже приведены инструкции о том, как сделать это.

1. Завершить все экземпляры WSL, с помощью `wsl --shutdown` команды
2. Изменение размера виртуального жесткого диска 2 WSL, выполнив следующие команды
   - Откройте окно командной строки с правами администратора и выполните следующие команды:
      - `Select vdisk file="<pathToVHD>"`
      - `expand vdisk maximum="<sizeInMegaBytes>"`
3. Запуск вашего дистрибутива WSL
4. Сделать WSL виду, что его можно увеличить размер его файловой системе
   - Выполните следующие команды в вашего дистрибутива WSL:
      - `sudo mount -t devtmpfs none /dev`
      - `mount | grep ext4`
         - Скопируйте имя эту запись, которая будет выглядеть так: / dev/sdXX (с крестиком представляет любой другой символ)
      - `sudo resize2fs /dev/sdXX`
         - Убедитесь в том, чтобы использовать значение, скопированный ранее, и необходимо использовать: `apt install resize2fs`.

## <a name="wsl-2-will-use-some-memory-on-startup"></a>WSL 2 будет использовать определенный объем памяти при запуске
WSL 2 использует упрощенный программа виртуальной Машины на реальных ядра Linux для обеспечения производительности системы отличный файл полной системы вызовов и совместимости при по-прежнему выполняется так же, как свет, быстрых и интегрированной и отвечает на запросы как WSL 1. Эта служебная программа виртуальной Машины имеет небольшой объем памяти и выделит виртуальный адрес резервной памяти при запуске. Он был настроен на запуск с небольшую часть вашей общий объем памяти.

## <a name="cross-os-file-speed-will-be-slower-in-initial-preview-builds"></a>Кросс-ОС скорость файлов будет работать медленнее в первоначальных предварительных сборок
Обратите внимание, файл медленной по сравнению с WSL 1 к файлам Windows из приложения Linux или при доступе к файлам Linux из приложения Windows. Это является результатом архитектурных изменений в WSL 2 и то, что команда WSL активно является исследование на том, как мы могли улучшить это взаимодействие.