---
title: Вопросы и ответы
description: Часто задаваемые вопросы о подсистеме Windows для Linux.
keywords: BashOnWindows, bash, wsl, windows, windowssubsystem, часто задаваемые вопросы
author: taraj
ms.author: taraj
ms.date: 9/4/2018
ms.topic: article
ms.assetid: 129101ed-b88a-43c2-b6a2-cd2c4ff6fee1
ms.openlocfilehash: 80675d8452b626ebe1d235774167c5ff27e4b44d
ms.sourcegitcommit: ae0956bc0543b1c45765f3620ce9a55c9afe55da
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "59063272"
---
# <a name="frequently-asked-questions-about-windows-subsystem-for-linux"></a>Часто задаваемые вопросы о подсистеме Windows для Linux

## <a name="what-is-windows-subsystem-for-linux-wsl"></a>Что такое подсистема Windows для Linux (WSL)?
Подсистема Windows для Linux (WSL) — это новая функция Windows 10, которая позволяет запускать собственные программы командной строки Linux непосредственно в Windows, вместе с вашей традиционными настольными Windows и современные приложения из магазина.

См. в разделе [о странице](./about.md) для получения дополнительных сведений.

## <a name="who-is-wsl-for"></a>Кто является WSL для?
Это в первую очередь инструмент для разработчиков — особенно веб-разработчиков и тех, кто работает и с проектами с открытым исходным кодом. Это позволяет пользователям нужно использовать Bash, Общие средства Linux (`sed`, `awk`т. д.) и множество средств Linux-first (Ruby, Python и др.), выполнять их цепочка инструментов для Windows.

## <a name="what-can-i-do-with-wsl"></a>Что можно делать с WSL?
WSL предоставляет приложение с именем Bash.exe, при запуске, откроется консоли Windows, запущенной в оболочке Bash. С помощью Bash, можно использовать средства командной строки Linux и приложений. Например, введите `lsb_release -a` и нажмите клавишу ВВОД; вы увидите сведения о текущих дистрибутива Linux:

![Снимок экрана сведений о дистрибутива](media/distro.png)

Также можно получить доступ к файловой системы локального компьютера из в оболочке Bash в Linux — вы найдете локальные диски подключены в `/mnt` папку. Например ваш `C:` диск подключается в разделе `/mnt/c`:  

![Снимок экрана подключенный диск C](media/ls.png)

## <a name="what-is-bash"></a>Что такое Bash
[Bash](https://en.wikipedia.org/wiki/Bash_%28Unix_shell%29) — это популярный текстовой оболочки и командный язык. Это оболочка по умолчанию, включенных в Ubuntu и других дистрибутивов Linux, а также в macOS. Пользователи в оболочку для выполнения скриптов или выполнять команды и средства для выполнения многих задач команды.

## <a name="how-does-this-work"></a>Как это работает?
Ознакомьтесь с нашей [блог](https://blogs.msdn.microsoft.com/wsl/) где мы подробно базовой технологии.

## <a name="why-would-i-use-wsl-rather-than-linux-in-a-vm"></a>Почему бы использовать WSL, а не в Linux на виртуальной Машине?
WSL требует меньше ресурсов (ЦП, памяти и хранилища), чем полный виртуальной машины. WSL позволяет также для запуска программы командной строки Linux и приложений, рядом с приложениями командной строки, рабочего стола и магазина Windows, а также для доступа к файлам Windows из в Linux. Это позволяет использовать приложения Windows и программы командной строки Linux на тот же набор файлов, при необходимости.

## <a name="why-would-i-use-for-example-ruby-on-linux-instead-of-on-windows"></a>Почему следует использовать, например, Ruby on Linux, а не в Windows?
Некоторые кросс платформенные средства были созданы при условии, что среды, в котором они выполняются ведет себя как Linux. Некоторые средства Предположим, например, что они смогут получить доступ к очень длинные пути к файлам или что существуют определенные файлы и папки. Это часто создает проблемы в Windows, который часто ведет себя по-разному в среде Linux.

Многие языки, такие как Ruby и узел часто перенесена. они отлично, работать на Windows. Однако не все Ruby Gem или владельцев узлов или NPM библиотеки перенос их библиотеки для поддержки Windows и многие имеют зависимости специфичный для Linux. Часто, это может привести в системах, созданных с помощью таких средств и библиотек, страдающие от сборки и иногда ошибки времени выполнения или нежелательного поведения в Windows.

Это только некоторые из проблем, вызвавших появление большому числу пользователей, спросите у Майкрософт для улучшения средств командной строки Windows и что послужило нам для сотрудничества с помощью Canonical, чтобы включить собственный Bash и командной строки средств Linux под управлением Windows.

## <a name="what-does-this-mean-for-powershell"></a>Что это означает для PowerShell?
При работе с проектами с открытым исходным кодом, существует множество сценариев, где чрезвычайно полезным, помещающий в Bash из PowerShell prompt. Поддержка bash дополняет и повышает параметра командной строки Windows, что позволяет использовать другие популярные технологии PowerShell и сообществе PowerShell.

Узнайте больше о блоге группы разработчиков PowerShell-- [Bash для Windows: Почему это замечательно, и что это значит для PowerShell](https://blogs.msdn.microsoft.com/powershell/2016/04/01/bash-for-windows-why-its-awesome-and-what-it-means-for-powershell/)

## <a name="can-i-run-all-linux-apps-in-wsl"></a>Можно ли запускать приложения под управлением Linux все в WSL?
Нет! WSL — это средство, предназначенных для включения пользователей, которым требуется их выполнить Bash, а также описываются средства командной строки Linux на Windows. 

WSL **не** предназначены для поддержки настольных систем графического интерфейса пользователя или приложения (например Gnome, KDE т. д.)  

Кроме того, даже если вы сможете запускать многие популярные серверные приложения (например Redis), мы не рекомендуем WSL для размещения служб в рабочей среде — Корпорация Майкрософт предлагает различные решения для выполнения производственных рабочих нагрузок Linux в Azure, Hyper-V и Docker. 

## <a name="what-windows-skus-is-wsl-included-in"></a>Какие SKU Windows включает WSL?
Подсистема Windows для Linux можно найти в настольных систем Windows для Windows 10 Anniversary и Creators update или более поздней версии.

Начиная с Fall Creators update WSL будут доступны на сервер и настольных систем номера SKU для Windows.

## <a name="what-processors-does-wsl-support"></a>Какой процессор поддерживает WSL?
WSL поддерживает x64 и процессоров ARM.

## <a name="how-do-i-access-my-c-drive"></a>Как получить доступ к диске?
Точки подключения для жестких дисков на локальном компьютере автоматически создаются и обеспечивают легкий доступ к файловой системе Windows. 
 
**/mnt/\<буква диска > /**
 
Пример его использования `cd /mnt/c` для доступа к c:\

## <a name="how-do-i-use-a-windows-file-with-a-linux-app"></a>Как использовать файл Windows с помощью приложения для Linux?

Одним из преимуществ WSL является возможность доступа к файлам с помощью приложения для Windows и Linux или средства. 

WSL подключает на компьютере, и фиксированным дискам `/mnt/<drive>` папку в вашей дистрибутивов Linux. Например ваш `C:` диск подключается в разделе `/mnt/c/` 

С помощью подключенных дисков, можно изменить код, например, `C:\dev\myproj\` с помощью [Visual Studio](https://visualstudio.microsoft.com/vs/) / или [VS Code](https://code.visualstudio.com/)и сборка и тестирование кода в Linux, доступ к тем же файлам через `\mnt\c\dev\myproj`.

> **ВАЖНОЕ ПРИМЕЧАНИЕ**: Одним из ключевых ограничение на использование WSL является не поддерживается напрямую доступ и изменение файлов в файловой системе дистрибутивов Linux, с помощью приложения Windows или средств. Пример [Не изменяйте файлы Linux, с помощью инструментов и приложений Windows](https://blogs.msdn.microsoft.com/commandline/2016/11/17/do-not-change-linux-files-using-windows-apps-and-tools/)

## <a name="are-files-in-the-linux-drive-different-from-the-mounted-windows-drive"></a>Файлы на диске Linux, отличаются от подключенного диска Windows?

1. Файлы в корневом каталоге Linux (т. е. `/`) управляются WSL, который имитирует особое поведение Linux, включая, но не ограничиваясь ими:
   * Файлы, которые содержат недопустимые символы имени файла Windows
   * Символических ссылок, созданным для пользователей без прав администратора
   * Изменение атрибутов файла через chmod и сменить
   * Чувствительность к регистру, файл или папку

2. Файлы на подключенных дисках, настраиваемые в Windows и ведут себя следующим:
   * Поддерживают учет регистра
   * Все разрешения лучше всего отражают разрешения Windows

## <a name="why-are-there-so-many-errors-when-i-run-apt-get-upgrade"></a>Почему существует так много ошибок при запуске обновления apt-get?
Некоторые пакеты используют функции, которые мы еще не реализована. `udev`, например, сейчас не поддерживается и приводит несколько `apt-get upgrade` ошибки.

Чтобы устранить проблемы, связанные с `udev`, выполните следующие действия:

1. Написать следующую команду, чтобы `/usr/sbin/policy-rc.d` и сохраните изменения.

    ```bash
    #!/bin/sh
    exit 101
    ```

2. Добавить разрешения на выполнение `/usr/sbin/policy-rc.d`

    ```bash
    chmod +x /usr/sbin/policy-rc.d
    ```
  
2. Выполните следующие команды

    ```bash
    dpkg-divert --local --rename --add /sbin/initctl
    ln -s /bin/true /sbin/initctl
    ```

## <a name="how-do-i-uninstall-a-wsl-distribution"></a>Как удалить дистрибутив WSL?

На сборки до версии 1709 (16299) откройте командную строку и выполните:
  ```batchfile
  lxrun /uninstall /full
  ```
  
Дистрибутивы WSL, установленные из магазина можно удалить как любое другое приложение Windows, щелкнув плитку приложения и удалить или с помощью PowerShell, используя [ `Remove-AppxPackage` командлет](https://technet.microsoft.com/en-us/library/hh856038.aspx).

## <a name="why-does-ping-generate-permission-denied-errors"></a>Почему ping создать отказано в разрешении ошибок?
В WSL сборки < 14926, ping необходимые WSL для выполнения через консоль с повышенными привилегиями. Эта проблема была исправлена в 14926 сборки и более поздних версий.

## <a name="how-do-i-run-an-openssh-server"></a>Как запустить сервер OpenSSH?
Для запуска в WSL OpenSSH, необходимы права администратора в Windows. Чтобы запустить сервер OpenSSH, выполнять Bash на Ubuntu в Windows с правами администратора, или запустите bash.exe в командной строке CMD/PowerShell с правами администратора.

## <a name="why-do-i-get-error-0x80040306-when-i-try-to-install"></a>Почему я получаю «ошибка: 0x80040306» при попытке установить?
WSL не поддерживает запуск в прежнюю версию консоли. Чтобы отключить прежнюю версию консоли:

1. Откройте WSL, PowerShell или Cmd
1. Щелкните правой кнопкой мыши заголовок строки "->" Свойства "->" снимите флажок «Использовать прежнюю версию консоли»
1. Нажмите кнопку "ОК".

## <a name="why-do-i-get-error-0x80040154-when-i-run-bashexe-after-upgrading-windows"></a>Почему я получаю «ошибка: 0x80040154» при выполнении bash.exe после обновления Windows?
Функцию «Windows подсистемы для Linux» можно отключить во время обновления Windows. В этом случае необходимо снова включить функцию Windows. Инструкции для включения функции «Windows подсистемы для Linux» можно найти в [руководство по установке](https://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-gui https://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-gui).

## <a name="how-do-i-change-the-display-language-of-wsl"></a>Как изменить язык интерфейса WSL?
Установка WSL попытается автоматически изменить языковой стандарт Ubuntu в соответствии с языковой стандарт для текущей установки Windows. Если не хотите, чтобы это поведение, можно выполнить следующую команду, чтобы изменить языковой стандарт Ubuntu, после завершения установки. Необходимо будет перезапустить bash.exe это изменение вступило в силу.

Ниже примере изменения языкового стандарта en-US:
```bash
sudo update-locale LANG=en_US.UTF8
```

## <a name="why-do-i-not-have-internet-access-from-wsl"></a>Почему не имеют доступа к Интернету из WSL?
Некоторые пользователи сообщали о проблемах с приложениями брандмауэров, блокировать доступ к Интернету в WSL. Брандмауэры сообщил являются:

1. Kaspersky
1. AVG
1. Приложении avast

В некоторых случаях отключение брандмауэра разрешает доступ к. В некоторых случаях простое наличие установлен брандмауэр проверяет блокировать доступ.

## <a name="how-do-i-access-a-port-from-wsl-in-windows"></a>Как открыть порт из WSL в Windows?
WSL предоставляет IP-адрес Windows, как он работает под управлением Windows. Таким образом вы может получить доступ к какие-либо порты на локальном узле. Например если имеется веб-содержимого на порту 1234, вы могли бы https://localhost:1234 в браузере Windows.

## <a name="where-can-i-provide-feedback"></a>Где можно оставить отзыв?

Можно отправить свои отзывы и задавайте вопросы, через несколько каналов: Отзывы и вопросы следует направлять:
* Наши [средство отслеживания вопросов GitHub](https://github.com/Microsoft/BashOnWindows/issues)
* Наши [командной строки портал UserVoice](https://wpdev.uservoice.com/forums/266908-command-prompt/filters/top)
* Наши [блог группы командной строки](https://blogs.msdn.microsoft.com/commandline/)
* С помощью Twitter. Следуйте [ @richturn_ms ](https://twitter.com/richturn_MS) в Twitter, чтобы узнать новости, обновления, и т.д.
